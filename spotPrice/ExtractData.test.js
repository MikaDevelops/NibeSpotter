const {extractData} = require('./ExtractData.js');
const {mockData} = require('./__mocks__/mockData.js');

test('extract data test', ()=> {

    let MockDate = require('mockdate');

    // 11th January 2023
    MockDate.set(1673442000000);

    let expectedData = ["2023-01-11T23:00:00.000Z","2023-01-12T00:00:00.000Z","19.88","2023-01-12T00:00:00.000Z","2023-01-12T01:00:00.000Z","5.55","2023-01-12T01:00:00.000Z","2023-01-12T02:00:00.000Z","4.69","2023-01-12T02:00:00.000Z","2023-01-12T03:00:00.000Z","0.10","2023-01-12T03:00:00.000Z","2023-01-12T04:00:00.000Z","2.73","2023-01-12T04:00:00.000Z","2023-01-12T05:00:00.000Z","24.94","2023-01-12T05:00:00.000Z","2023-01-12T06:00:00.000Z","36.01","2023-01-12T06:00:00.000Z","2023-01-12T07:00:00.000Z","59.98","2023-01-12T07:00:00.000Z","2023-01-12T08:00:00.000Z","65.18","2023-01-12T08:00:00.000Z","2023-01-12T09:00:00.000Z","65.03","2023-01-12T09:00:00.000Z","2023-01-12T10:00:00.000Z","66.30","2023-01-12T10:00:00.000Z","2023-01-12T11:00:00.000Z","66.72","2023-01-12T11:00:00.000Z","2023-01-12T12:00:00.000Z","66.60","2023-01-12T12:00:00.000Z","2023-01-12T13:00:00.000Z","70.85","2023-01-12T13:00:00.000Z","2023-01-12T14:00:00.000Z","73.76","2023-01-12T14:00:00.000Z","2023-01-12T15:00:00.000Z","74.44","2023-01-12T15:00:00.000Z","2023-01-12T16:00:00.000Z","74.81","2023-01-12T16:00:00.000Z","2023-01-12T17:00:00.000Z","76.39","2023-01-12T17:00:00.000Z","2023-01-12T18:00:00.000Z","78.65","2023-01-12T18:00:00.000Z","2023-01-12T19:00:00.000Z","79.82","2023-01-12T19:00:00.000Z","2023-01-12T20:00:00.000Z","74.08","2023-01-12T20:00:00.000Z","2023-01-12T21:00:00.000Z","74.50","2023-01-12T21:00:00.000Z","2023-01-12T22:00:00.000Z","66.84","2023-01-12T22:00:00.000Z","2023-01-12T23:00:00.000Z","42.49"]

    expect (extractData(mockData)).toEqual(expectedData);

    MockDate.reset();

});